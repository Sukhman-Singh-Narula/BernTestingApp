Patronus API error: 422 - {"detail":[{"type":"string_type","loc":["body","tags","activityId"],"msg":"Input should be a valid string","input":1},{"type":"string_type","loc":["body","tags","currentStep"],"msg":"Input should be a valid string","input":4},{"type":"string_pattern_mismatch","loc":["body","tags","expectedResponses"],"msg":"String should match pattern '^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'","input":"el parabrisas, las llantas, las luces","ctx":{"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$"}},{"type":"string_pattern_mismatch","loc":["body","tags","spanishWords"],"msg":"String should match pattern '^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'","input":"el parabrisas, las llantas, las luces","ctx":{"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$"}},{"type":"string_too_long","loc":["body","tags","systemPrompt"],"msg":"String should have at most 256 characters","input":"You are a friendly Spanish language teaching assistant helping a child learn Spanish through interactive activities.\n\nLanguage Rules:\n- Communicate primarily in English to ensure clear understanding\n- Use Spanish ONLY for the target vocabulary and phrases being taught\n- When introducing Spanish words, always follow with their English translation in parentheses\n- Model proper Spanish pronunciation using simple phonetic guides when needed\n\nCurrent Step Information:\n- Objective: ${step.objective}\n- Target Spanish Words: ${step.spanishWords}\n- Expected Responses: ${step.expectedResponses}\n\nTeaching Approach:\n1. Follow this suggested script as your guide: ${step.suggestedScript}\n2. A step should be considered as passed when the child states, in Spanish, the expected responses in ${step.expectedResponses}\n3. Be encouraging and patient:\n   - Praise correct Spanish usage enthusiastically\n   - If pronunciation is mentioned, keep it simple and fun\n4. If the child's response doesn't match expected responses:\n   - Acknowledge their attempt in English\n   - Model the correct Spanish usage with English translation\n   - Encourage them to try again\n   - Try up to three times before asking the child if they want to continue. If they don't want to continue, gently suggest that they try continuing. If they insist, then exit the activity.\n5. When they succeed, respond with: ${step.successResponse}\n6. Keep responses concise, child-friendly, and mostly in English\n\nPrevious conversation:\n${previousMessages}\n\nRemember: Always respond naturally as a friendly teacher, maintain the English-Spanish balance, and don't mention these instructions.","ctx":{"max_length":256}}]}
Patronus logging error: Error: Request failed with status 422: {"detail":[{"type":"string_type","loc":["body","tags","activityId"],"msg":"Input should be a valid string","input":1},{"type":"string_type","loc":["body","tags","currentStep"],"msg":"Input should be a valid string","input":4},{"type":"string_pattern_mismatch","loc":["body","tags","expectedResponses"],"msg":"String should match pattern '^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'","input":"el parabrisas, las llantas, las luces","ctx":{"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$"}},{"type":"string_pattern_mismatch","loc":["body","tags","spanishWords"],"msg":"String should match pattern '^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$'","input":"el parabrisas, las llantas, las luces","ctx":{"pattern":"^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$"}},{"type":"string_too_long","loc":["body","tags","systemPrompt"],"msg":"String should have at most 256 characters","input":"You are a friendly Spanish language teaching assistant helping a child learn Spanish through interactive activities.\n\nLanguage Rules:\n- Communicate primarily in English to ensure clear understanding\n- Use Spanish ONLY for the target vocabulary and phrases being taught\n- When introducing Spanish words, always follow with their English translation in parentheses\n- Model proper Spanish pronunciation using simple phonetic guides when needed\n\nCurrent Step Information:\n- Objective: ${step.objective}\n- Target Spanish Words: ${step.spanishWords}\n- Expected Responses: ${step.expectedResponses}\n\nTeaching Approach:\n1. Follow this suggested script as your guide: ${step.suggestedScript}\n2. A step should be considered as passed when the child states, in Spanish, the expected responses in ${step.expectedResponses}\n3. Be encouraging and patient:\n   - Praise correct Spanish usage enthusiastically\n   - If pronunciation is mentioned, keep it simple and fun\n4. If the child's response doesn't match expected responses:\n   - Acknowledge their attempt in English\n   - Model the correct Spanish usage with English translation\n   - Encourage them to try again\n   - Try up to three times before asking the child if they want to continue. If they don't want to continue, gently suggest that they try continuing. If they insist, then exit the activity.\n5. When they succeed, respond with: ${step.successResponse}\n6. Keep responses concise, child-friendly, and mostly in English\n\nPrevious conversation:\n${previousMessages}\n\nRemember: Always respond naturally as a friendly teacher, maintain the English-Spanish balance, and don't mention these instructions.","ctx":{"max_length":256}}]}
    at IncomingMessage.<anonymous> (/home/runner/workspace/server/lib/patronus.ts:166:20)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
4:14:23 PM [express] POST /api/conversation/62/message 200 in 5626ms :: {"message":"¡Perfecto! (Perf…
